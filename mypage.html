<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆì´í˜ì´ì§€ - í«í”ŒìŠ¤</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- í—¤ë” -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <img src="images/app_icon.png" alt="í«í”ŒìŠ¤ ì•± ì•„ì´ì½˜">
                <h1><a href="index.html">í«í”ŒìŠ¤</a></h1>
            </div>
            <nav class="nav">
                <ul id="nav-menu">
                    <!-- auth.jsê°€ ë™ì ìœ¼ë¡œ ì±„ì›ë‹ˆë‹¤ -->
                </ul>
            </nav>
        </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">
        <div class="container">
            <section class="mypage-section">
                <h2>ğŸ‘¤ ë§ˆì´í˜ì´ì§€</h2>
                <div class="profile-links">
                    <a href="human_profile.html">ë‚´ í”„ë¡œí•„ ê´€ë¦¬</a>
                    <a href="pet_profile.html">ë°˜ë ¤ë™ë¬¼ í”„ë¡œí•„ ê´€ë¦¬</a>
                </div>
                <div id="user-info" class="user-info-card">
                    <!-- auth.jsê°€ ì‚¬ìš©ì ì •ë³´ë¥¼ ì±„ì›ë‹ˆë‹¤ -->
                    <p>ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                </div>
                <button id="logout-btn" class="button-primary" style="margin-top: 20px; background-color: #6c757d;">ë¡œê·¸ì•„ì›ƒ</button>
            </section>
        </div>
    </main>

    <!-- í‘¸í„° -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Petples. All Rights Reserved.</p>
            <p>íšŒì‚¬ì†Œê°œ | ì´ìš©ì•½ê´€ | ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</p>
        </div>
    </footer>

    <script src="auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('petples_user'));
            const userInfoDiv = document.getElementById('user-info');

            if (user) {
                userInfoDiv.innerHTML = `
                    <h3>ë³´í˜¸ì ì •ë³´</h3>
                    <p><strong>ì•„ì´ë””:</strong> ${user.userid || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ì´ë¦„:</strong> ${user.human_name || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ë‚˜ì´:</strong> ${user.human_age || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ì„±ë³„:</strong> ${user.human_gender || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ì‚¬ëŠ” ë™ë„¤:</strong> ${user.neighborhood || 'ì •ë³´ ì—†ìŒ'}</p>
                    <hr>
                    <h3>ë°˜ë ¤ë™ë¬¼ ì •ë³´</h3>
                    <p><strong>ë™ë¬¼ ì¢…ë¥˜:</strong> ${user.pet_type || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>í’ˆì¢…:</strong> ${user.pet_breed || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ì„±ë³„:</strong> ${user.pet_gender || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ë‚˜ì´:</strong> ${user.pet_age || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ëª¸ë¬´ê²Œ:</strong> ${user.pet_weight ? user.pet_weight + 'kg' : 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ë“±ë¡ë²ˆí˜¸:</strong> ${user.pet_reg_number || 'ì •ë³´ ì—†ìŒ'}</p>
                `;
            } else {
                userInfoDiv.innerHTML = '<p>ë¡œê·¸ì¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. <a href="signup.html">íšŒì›ê°€ì…</a>ì„ ë¨¼ì € ì§„í–‰í•´ì£¼ì„¸ìš”.</p>';
            }

            // ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            const logoutBtn = document.getElementById('logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', () => {
                    if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        localStorage.clear(); // ëª¨ë“  ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ë°ì´í„° ì‚­ì œ
                        alert('ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.');
                        window.location.href = 'login.html'; // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
                    }
                });
            }
        });
    </script>

</body>
</html>