<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆì´í˜ì´ì§€ - í«í”ŒìŠ¤</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        .profile-photo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
            border: 3px solid #f0f0f0;
        }

        /* ëª¨ë°”ì¼ í™˜ê²½ì„ ìœ„í•œ ë¯¸ë””ì–´ ì¿¼ë¦¬ */
        @media (max-width: 768px) {
            .mypage-section h2 {
                font-size: 1.5em; /* ì œëª© í°íŠ¸ í¬ê¸° ì¡°ì ˆ */
            }
            .user-info-card p {
                font-size: 0.9em; /* ë³¸ë¬¸ í°íŠ¸ í¬ê¸° ì¡°ì ˆ */
            }
            .profile-links a {
                font-size: 0.9em;
            }
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ í† ê¸€(X) ë²„íŠ¼ ìœ„ì¹˜ ìˆ˜ì • */
        .nav-toggle.active .hamburger {
            background-color: transparent; /* ê°€ìš´ë° ì¤„ ìˆ¨ê¸°ê¸° */
        }
        .nav-toggle.active .hamburger::before {
            transform: translateY(0) rotate(45deg);
        }
        .nav-toggle.active .hamburger::after {
            transform: translateY(0) rotate(-45deg);
        }

    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- í—¤ë” -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <img src="images/app_icon.png" alt="í«í”ŒìŠ¤ ì•± ì•„ì´ì½˜">
                <h1><a href="index.html">í«í”ŒìŠ¤</a></h1>
            </div>
            <nav class="nav">
                <ul id="nav-menu">
                    <li><a href="inquiry.html">1:1 ë¬¸ì˜</a></li>
                    <!-- auth.jsê°€ ë™ì ìœ¼ë¡œ ì±„ì›ë‹ˆë‹¤ -->
                </ul>
            </nav>
            <button class="nav-toggle" aria-label="ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ ì—´ê¸°">
                <span class="hamburger"></span>
            </button>
        </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">
        <div class="container">
            <section class="mypage-section">
                <h2>ğŸ‘¤ ë§ˆì´í˜ì´ì§€</h2>
                <div class="profile-links">
                    <a href="human_profile.html">ë‚´ í”„ë¡œí•„ ê´€ë¦¬</a>
                    <a href="pet_profile.html">ë°˜ë ¤ë™ë¬¼ í”„ë¡œí•„ ê´€ë¦¬</a>
                </div>
                <div id="user-info" class="user-info-card">
                    <!-- auth.jsê°€ ì‚¬ìš©ì ì •ë³´ë¥¼ ì±„ì›ë‹ˆë‹¤ -->
                    <p>ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                </div>
                <button id="logout-btn" class="button-primary" style="margin-top: 20px; background-color: #6c757d;">ë¡œê·¸ì•„ì›ƒ</button>
            </section>
        </div>
    </main>

    <!-- í‘¸í„° -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Petples. All Rights Reserved.</p>
            <p>íšŒì‚¬ì†Œê°œ | ì´ìš©ì•½ê´€ | ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</p>
        </div>
    </footer>

    <script src="auth.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('petples_user'));
            const userInfoDiv = document.getElementById('user-info');

            if (user) {
                userInfoDiv.innerHTML = `
                    <h3>ğŸ‘¤ ë³´í˜¸ì ì •ë³´</h3>
                    <img src="${user.human_photo ? 'images/' + user.human_photo : 'images/default_user.png'}" alt="ë³´í˜¸ì ì‚¬ì§„" class="profile-photo">
                    <p><strong>ì•„ì´ë””:</strong> ${user.userid || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ì´ë¦„:</strong> ${user.human_name || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ë‚˜ì´:</strong> ${user.human_age || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ì„±ë³„:</strong> ${user.human_gender || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ì‚¬ëŠ” ë™ë„¤:</strong> ${user.neighborhood || 'ì •ë³´ ì—†ìŒ'}</p>
                    <hr>
                    <h3>ğŸ¾ ë°˜ë ¤ë™ë¬¼ ì •ë³´</h3>
                    <img src="${user.pet_photo ? 'images/' + user.pet_photo : 'images/default_pet.png'}" alt="ë°˜ë ¤ë™ë¬¼ ì‚¬ì§„" class="profile-photo">
                    <p><strong>ë™ë¬¼ ì¢…ë¥˜:</strong> ${user.pet_type || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>í’ˆì¢…:</strong> ${user.pet_breed || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ì„±ë³„:</strong> ${user.pet_gender || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ë‚˜ì´:</strong> ${user.pet_age || 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ëª¸ë¬´ê²Œ:</strong> ${user.pet_weight ? user.pet_weight + 'kg' : 'ì •ë³´ ì—†ìŒ'}</p>
                    <p><strong>ë“±ë¡ë²ˆí˜¸:</strong> ${user.pet_reg_number || 'ì •ë³´ ì—†ìŒ'}</p>
                `;
            } else {
                userInfoDiv.innerHTML = '<p>ë¡œê·¸ì¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. <a href="signup.html">íšŒì›ê°€ì…</a>ì„ ë¨¼ì € ì§„í–‰í•´ì£¼ì„¸ìš”.</p>';
            }

            // ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            const logoutBtn = document.getElementById('logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', () => {
                    if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        localStorage.clear(); // ëª¨ë“  ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ë°ì´í„° ì‚­ì œ
                        alert('ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.');
                        window.location.href = 'login.html'; // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
                    }
                });
            }

            // ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ í† ê¸€
            const navToggle = document.querySelector('.nav-toggle');
            const navContainer = document.querySelector('.nav'); // ì œì–´ ëŒ€ìƒì„ .navë¡œ ë³€ê²½

            if (navToggle && navContainer) {
                navToggle.addEventListener('click', () => {
                    navContainer.classList.toggle('active'); // .navì— active í´ë˜ìŠ¤ í† ê¸€
                    navToggle.classList.toggle('active');
                });
            }
        });
    </script>

</body>
</html>